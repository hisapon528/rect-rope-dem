<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>長方形の面積 可視化（ブラウザ版 / CheerpJ）</title>
  <script src="https://cjrtnc.leaningtech.com/4.2/loader.js"></script>
  <style>
    html,body{height:100%;margin:0;background:#f5f5f5}
    #wrap{height:100%;display:grid;place-items:center}
    #mount{width:1100px;height:700px;max-width:98vw;max-height:96vh}
    .note{position:fixed;left:12px;bottom:8px;color:#666;font:14px/1.6 system-ui}
    code{background:#eee;padding:2px 4px;border-radius:4px}
  </style>
</head>
<body>
  <div id="wrap"><div id="mount"></div></div>
  <div class="note">JAR名は <code>RectFunctionDemo.jar</code>、同階層に <code>ひも.png</code>。</div>
  <script>
  (async () => {
    try {
      await cheerpjInit();                          // 1) ランタイム初期化
      cheerpjCreateDisplay(1100,700,document.getElementById('mount')); // 2) 画面
      const r = await fetch('RectFunctionDemo.jar', {method:'HEAD'});  // 3) 在りかチェック
      if(!r.ok){ throw new Error('JAR not found: HTTP '+r.status); }
      await cheerpjRunJar('RectFunctionDemo.jar');  // 4) JAR（MANIFESTの Main-Class）で起動
    } catch(e){
      console.error(e);
      const m = document.createElement('pre');
      m.textContent = '起動に失敗: '+(e && e.message ? e.message : e);
      m.style.cssText='position:fixed;top:10px;left:10px;background:#fff3cd;border:1px solid #ffeeba;padding:10px;border-radius:8px;color:#856404;max-width:95vw;white-space:pre-wrap';
      document.body.appendChild(m);
    }
  })();
  </script>
</body>
</html>
